# 3. Цели проекта

Этот документ отслеживает высокоуровневые цели и статус их выполнения.

## Ключевые достижения

В ходе масштабного рефакторинга была полностью переработана архитектура проекта для повышения модульности, надежности и удобства разработки.

1.  **Создана монорепозиторная структура (`npm workspaces`)**:
    *   Выделен пакет `@shri/ui-kit` для всех UI-компонентов.
    *   Выделен пакет `@shri/playwright` для всех утилит тестирования.

2.  **Инкапсулирована разработка UI-кита**:
    *   Внедрен Storybook для визуальной разработки и демонстрации.
    -   Настроены UI-снэпшот-тесты (Playwright) внутри пакета.

3.  **Унифицирована тестовая инфраструктура**:
    -   Созданы кастомные фикстуры Playwright, упрощающие написание тестов.
    -   Все тесты (E2E и UI) используют единый пакет `@shri/playwright`.

4.  **Актуализирована вся документация**:
    *   Обновлена как внутренняя база знаний (`memory-bank`), так и документация для разработчиков (`docs`).
    *   Структура документации приведена в соответствие со структурой кода.

## Будущие цели

### Актуальные задачи
-   **Улучшение Accessibility (a11y):**
    -   Провести полный аудит доступности приложения.
    -   Интегрировать автоматические a11y-проверки в CI/CD пайплайн.
    -   Добавить ARIA-атрибуты для всех интерактивных элементов.
    -   Обеспечить корректную навигацию с клавиатуры.
-   **Расширение покрытия E2E-тестами**:
    -   Добавить тесты на более сложные пользовательские сценарии, которые не покрываются интеграционными тестами.
    -   Реализовать тесты для проверки одновременной работы с несколькими файлами.
    -   Добавить тесты для проверки взаимодействия между страницами Generate и History.
-   **Оптимизация производительности**:
    -   Проанализировать скорость загрузки и рендеринга ключевых страниц.
    -   Оптимизировать "тяжелые" компоненты и операции.
    -   Внедрить метрики производительности (Web Vitals) в CI/CD.
    -   Реализовать прогрессивную загрузку для истории анализов.
-   **Аудит и улучшение тестовых сценариев**:
    -   Проанализировать существующие сценарии и тест-кейсы на предмет возможного улучшения или декомпозиции.
    -   Добавить сценарии для страницы Generate, аналогичные новым сценариям домашней страницы.
    -   Обновить существующие тест-кейсы с учетом новых состояний интерфейса.
-   **Оптимизация скриншот-тестов**:
    -   Проверить текущие скриншот-тесты, найти способы уменьшения размера скриншотов и улучшения их стабильности.
    -   Стандартизировать подход к именованию и организации скриншотов.
    -   Внедрить автоматическую очистку устаревших скриншотов.
-   **Рефакторинг скриптов Storybook**:
    -   Перенести скрипты, связанные со Storybook, в `packages/ui-kit`.
    -   Описать в `README` пакета, как запускать Storybook из корневой директории.
    -   Добавить автоматическую публикацию Storybook при релизах.

### Выполненные задачи
-   [x] **Завершение UI-кита**:
    -   Перенести переиспользуемые компоненты из `src/components` в пакет `@shri/ui-kit`.
    -   Написать на них недостающие функциональные и снэпшот-тесты.
-   [x] **Создание тестируемого API-слоя**:
    -   Спроектировать и реализовать слой для работы с API, уделив особое внимание тестированию запросов со стримингом.
-   [x] **Исправление теста TC-HP-001**:
    -   Сделать первый шаг теста (`Начальное состояние страницы`) воспроизводимым.
    -   Добавить в последний шаг проверку сохранения результата в истории.
-   [x] **Анализ влияния Zustand на тестирование**:
    -   Проверить, не создает ли текущая реаликация стора на Zustand проблем для юнит- и интеграционного тестирования.
-   [x] **Улучшение инфраструктуры для нестабильных тестов**:
    -   Исправлены скрипты для запуска UI-тестов компонентов.
    -   Обновлена документация тестовых сценариев для домашней страницы.
    -   Добавлены новые сценарии (10, 11, 12) для проверки различных состояний интерфейса.

# Текущие цели проекта

## Приоритетные задачи

1. **Улучшение доступности (a11y)** - реализовано базовое улучшение доступности:
   - Добавлены ARIA атрибуты для модальных окон и динамического контента
   - Внедрена skip-link для перехода к основному содержимому
   - Улучшены стили фокуса для навигации с клавиатуры
   - Расширена поддержка ARIA в компонентах Typography, Button, Modal и Dropzone

2. **Продолжение улучшения a11y**:
   - Провести аудит контраста всех интерфейсных элементов
   - Реализовать "ловушку фокуса" для модальных окон
   - Добавить автоматизированное тестирование a11y в процесс CI/CD

## Стандарты кодирования

После каждого важного изменения в кодовой базе (особенно изменений архитектуры, улучшений доступности или внедрения новых подходов) необходимо обновлять файлы документации:
- Файлы в директории `memory-bank/`
- При необходимости создавать новые руководства и правила
- Обновлять существующие правила, если они меняются

Это позволит поддерживать документацию в актуальном состоянии и обеспечит соблюдение принятых стандартов всей командой.