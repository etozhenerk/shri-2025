# Руководство по написанию юнит-тестов (Vitest)

Этот документ описывает специфические правила для написания юнит-тестов. **Все общие правила тестирования описаны в [главном документе по конвенциям](../02_coding_conventions.md).**

## 1. Основные правила

-   **Расположение:** Файлы unit-тестов должны находиться в поддиректории `__tests__` внутри папки с тестируемым модулем (например, `src/utils/__tests__/`).
-   **Группировка:** Для логической группировки тестов **обязательно** использовать `describe()`.
-   **Язык:** Все описания (`describe`, `it`) должны быть на **русском языке**.
-   **Предмет тестирования:** Юнит-тесты должны покрывать в первую очередь чистые функции, утилиты и бизнес-логику, изолированную от UI.

## 2. Конфигурация

### `vitest.config.ts`
- **`include`**: Должен включать файлы из `src` с суффиксами, соответствующими тестовой среде.
- **`setupFiles`**: Должен указывать на файл с глобальными настройками для тестов (`tests/setup.ts`).

## 3. Запуск тестов

-   `npm run test:unit` — запускает только юнит-тесты.
-   `npm run test:unit:ui` — запускает все тесты Vitest (юнит- и интеграционные) в интерактивном UI-режиме. 