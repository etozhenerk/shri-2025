# Тест-кейсы для страницы "CSV Аналитик" (HomePage)

### ID: TC-HP-001

**Название:** Успешная загрузка и анализ CSV файла через кнопку "Загрузить файл".
**Тип теста:** Интеграционный (Integration)
**Описание:** Проверка полного цикла успешной загрузки файла через клик по кнопке, отправки на анализ и отображения результатов.
**Предусловие:** Пользователь находится на главной странице (`/`). Ответ от сервера с анализом файла замокан.
**Шаги:**

1.  **Шаг:** Нажать на кнопку "Загрузить файл" или на область для загрузки.
    **Ожидаемый результат:** Открывается системное окно выбора файла.
2.  **Шаг:** В системном окне выбора файла выбрать валидный `.csv` файл.
    **Ожидаемый результат:** Имя выбранного файла отображается в области загрузки. Кнопка "Отправить" становится видимой и активной.
3.  **Шаг:** Нажать кнопку "Отправить".
    **Ожидаемый результат:** Отображается индикатор процесса анализа. После завершения анализа индикатор пропадает, а на странице отображаются карточки с результатами. В историю добавляется запись об успешном анализе.

### ID: TC-HP-002

**Название:** Успешная загрузка и анализ CSV файла через Drag-and-Drop.
**Тип теста:** Интеграционный (Integration)
**Описание:** Проверка полного цикла успешной загрузки файла через перетаскивание, отправки на анализ и отображения результатов.
**Предусловие:** Пользователь находится на главной странице (`/`). Ответ от сервера с анализом файла замокан.
**Шаги:**

1.  **Шаг:** Перетащить валидный `.csv` файл из файловой системы компьютера в область Dropzone на странице.
    **Ожидаемый результат:** Имя выбранного файла отображается в области загрузки. Кнопка "Отправить" становится видимой и активной.
2.  **Шаг:** Нажать кнопку "Отправить".
    **Ожидаемый результат:** Отображается индикатор процесса анализа. После завершения анализа индикатор пропадает, а на странице отображаются карточки с результатами. В историю добавляется запись об успешном анализе.

### ID: TC-HP-003

**Название:** Попытка загрузки файла с неверным расширением.
**Тип теста:** Интеграционный (Integration)
**Описание:** Проверка реакции системы на попытку загрузить файл в формате, отличном от CSV.
**Предусловие:** Пользователь находится на главной странице (`/`).
**Шаги:**

1.  **Шаг:** Нажать на кнопку "Загрузить файл" и выбрать файл с расширением, отличным от `.csv` (например, `test.txt`).
    **Ожидаемый результат:** В области загрузки отображается сообщение об ошибке, указывающее на неверный формат файла. Кнопка "Отправить" неактивна или невидима.

### ID: TC-HP-004

**Название:** Кнопка "Отправить" неактивна до выбора файла.
**Тип теста:** Интеграционный (Integration)
**Описание:** Проверка того, что пользователь не может инициировать анализ, не выбрав файл.
**Предусловие:** Пользователь находится на главной странице (`/`).
**Шаги:**

1.  **Шаг:** Осмотреть страницу сразу после загрузки.
    **Ожидаемый результат:** Кнопка "Отправить" не видна на странице.

### ID: TC-HP-005

**Название:** Отображение ошибки при сбое анализа на сервере.
**Тип теста:** Интеграционный (Integration)
**Описание:** Проверка корректного отображения серверной ошибки на стороне клиента.
**Предусловие:** Пользователь находится на главной странице (`/`). Ответ от сервера с ошибкой замокан.
**Шаги:**

1.  **Шаг:** Выбрать валидный `.csv` файл и нажать "Отправить".
    **Ожидаемый результат:** Индикатор процесса анализа пропадает. На странице отображается сообщение об ошибке, полученное от сервера. В историю добавляется запись о неудачном анализе.

### ID: TC-HP-006

**Название:** Сброс выбранного файла.
**Тип теста:** Интеграционный (Integration)
**Описание:** Проверка функциональности отмены выбора файла до отправки на анализ.
**Предусловие:** Пользователь находится на главной странице (`/`).
**Шаги:**

1.  **Шаг:** Выбрать валидный `.csv` файл.
    **Ожидаемый результат:** Имя файла отображается в области загрузки.
2.  **Шаг:** Нажать на иконку "очистить" (крестик) рядом с именем файла.
    **Ожидаемый результат:** Область загрузки возвращается в исходное состояние. Кнопка "Отправить" исчезает.
