# Тестовые сценарии для страницы "CSV Генератор" (GeneratePage)

## Основные сценарии

### Сценарий 1: Успешная генерация и скачивание файла

**Описание:** Пользователь инициирует процесс генерации CSV-файла, который успешно завершается, и файл автоматически скачивается.

**Шаги:**

1.  Пользователь открывает страницу "CSV Генератор".
2.  Нажимает на кнопку "Начать генерацию".
3.  Кнопка становится неактивной, и на ней появляется индикатор загрузки (лоадер). Под кнопкой отображается текст "идёт процесс генерации".
4.  После успешного ответа от сервера начинается автоматическое скачивание `report.csv` файла в браузере.
5.  Индикатор загрузки пропадает, кнопка снова становится активной.
6.  На странице появляется временное сообщение об успешной генерации ("Отчёт успешно сгенерирован!").

### Сценарий 2: Ошибка на стороне сервера во время генерации

**Описание:** Пользователь инициирует генерацию, но в процессе на сервере происходит ошибка.

**Шаги:**

1.  Пользователь открывает страницу "CSV Генератор".
2.  Нажимает на кнопку "Начать генерацию".
3.  Кнопка становится неактивной, и на ней появляется индикатор загрузки.
4.  Сервер возвращает ошибку.
5.  Индикатор загрузки пропадает, кнопка снова становится активной.
6.  На странице под кнопкой отображается сообщение об ошибке.

---
## Визуальные сценарии

### Сценарий 3: Отображение страницы в состоянии по умолчанию

**Описание:** Проверка внешнего вида страницы для генерации тестовых данных.

**Шаги:**
1. Пользователь открывает страницу генерации (`/generate`).
2. **Результат:** Внешний вид страницы должен совпадать с эталонным снимком `generate-page.png`.

### Сценарий 4: Отображение страницы в процессе генерации

**Описание:** Проверка внешнего вида страницы во время процесса генерации CSV-файла.

**Шаги:**
1. Пользователь открывает страницу генерации (`/generate`).
2. Нажимает на кнопку "Начать генерацию".
3. **Результат:** Внешний вид страницы должен совпадать с эталонным снимком `generate-page-loading.png`:
   - Кнопка "Начать генерацию" неактивна
   - На кнопке отображается индикатор загрузки
   - Под кнопкой отображается текст "идёт процесс генерации"

### Сценарий 5: Отображение страницы после успешной генерации

**Описание:** Проверка внешнего вида страницы после успешного завершения генерации CSV-файла.

**Шаги:**
1. Пользователь открывает страницу генерации (`/generate`).
2. Нажимает на кнопку "Начать генерацию".
3. Дожидается успешного завершения генерации.
4. **Результат:** Внешний вид страницы должен совпадать с эталонным снимком `generate-page-success.png`:
   - Кнопка "Начать генерацию" активна
   - Отображается сообщение об успешной генерации
   - Начинается автоматическое скачивание файла

### Сценарий 6: Отображение страницы при ошибке генерации

**Описание:** Проверка внешнего вида страницы при возникновении ошибки во время генерации CSV-файла.

**Шаги:**
1. Пользователь открывает страницу генерации (`/generate`).
2. Нажимает на кнопку "Начать генерацию".
3. Происходит ошибка на сервере.
4. **Результат:** Внешний вид страницы должен совпадать с эталонным снимком `generate-page-error.png`:
   - Кнопка "Начать генерацию" активна
   - Под кнопкой отображается сообщение об ошибке
   - Скачивание файла не происходит
