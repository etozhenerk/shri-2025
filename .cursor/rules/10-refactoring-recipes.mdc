---
description: 
globs: 
alwaysApply: true
---
# Рецепты для рефакторинга

## Преобразование E2E-теста в интеграционный

**Контекст**: Этот рефакторинг применяется, когда E2E-тест на Playwright не проверяет ничего, что требует реального браузера (например, сложная логика в компонентах, взаимодействие со стором).

**Процесс**:
1.  Создайте новый файл `*.integration.test.tsx` рядом с тестируемой страницей.
2.  Перенесите логику мокирования API из `mocker` в `msw` или другую подходящую библиотеку для `vitest`.
3.  Воспроизведите пользовательский сценарий с помощью `render`, `fireEvent` и `screen` из `@testing-library/react`.
4.  Убедитесь, что все проверки (`expect`) перенесены и проходят.
5.  Удалите старый E2E-тест.
